#include <test.h>
#define LED_PIN_ALARM PIN_B6
#define LED_PIN_GREEN PIN_B7
#INT_EXT
boolean flag0 =0;
boolean flag1 =0;

void  EXT_isr(void) 
{

}

#INT_EXT1
void  EXT1_isr(void) 
{

}

void main()
{
   int nb_persone =0;
   int val_u =0,val_d=0 ;
   enable_interrupts(INT_EXT);
   enable_interrupts(INT_EXT1);
   enable_interrupts(GLOBAL);
   setup_low_volt_detect(FALSE);

   while(TRUE)
   {  
      output_high(LED_PIN_GREEN);
      output_d(val_u);
      output_d((val_d<<4));
      delay_ms(250);
      output_low(LED_PIN_GREEN);
      nb_persone++;
      val_u++;
      if(val_u == 10){
         output_high(LED_PIN_ALARM);
         val_d++;
         val_u=0;
         delay_ms(250);
         output_low(LED_PIN_ALARM );
      }

   }

}
